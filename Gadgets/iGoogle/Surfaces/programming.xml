<?xml version="1.0" encoding="UTF-8"?>
<Module>
<ModulePrefs title="CLI Portrait" 
height="380"
width="270"
description="Hide me anywhere with massive power under the artwork. Big-O analysis, puzzles, programming, obfuscated artworks, challenges, unsolved problems and more comming. Search provided by Math Harbour, Mathharbour.com. For the small, try 'Y (search)' -gadget that covers Math, CLI and Investing."
author ="MathHarbour.com"
author_email ="mathharbour1@gmail.com"
author_aboutme ="MathHarbour.com specializes in search."
screenshot="http://3.bp.blogspot.com/_Qc1Z3hIcYO4/TA6s-xvBxoI/AAAAAAAABks/0RP4YmvVoxs/s1600/nailsMyHead.jpg"
title_url="http://cliharbour.blogspot.com/" 
thumbnail="http://3.bp.blogspot.com/_Qc1Z3hIcYO4/TA6s-xvBxoI/AAAAAAAABks/0RP4YmvVoxs/s1600/nailsMyHead.jpg"
category="education" category2="communication"
scrolling="false">
</ModulePrefs>
<Content type="html"> 
<![CDATA[
<html>


<style type="text/css">
body 
{ 
 background: transparent; 
 font-size:10px;
 a:link {text-decoration:none;}
 a:visited {text-decoration:none;}
 a:hover {text-decoration:underline;}
 a:active {text-decoration:underline;}
}

</style>


<body>


<script>
// Track this gadget using Google Analytics.
// Creates a tracking object and uses reportPageview method to call gadget view
var ga = new _IG_GA("UA-10106633-5");
ga.reportPageview('/view/allinoneGadget');
</script>



<script type="text/javascript">

function _toggle(el) 
{
  el = document.getElementById(el);
  if (el !== null) {
    if (el.style.display.length === 0 || el.style.display === "block") {
      el.style.display = "none";
    } else if (el.style.display === "none") {
      el.style.display = "block";
    }
  }
}

</script>

<script type="text/javascript">

function change_visibility(binX)
{
  if (binX.search(/^[10X]+$/i) == -1)
  {
    //Something wrong not of the form eg 0x1001X
  }

  var vals = ['image',
      'quote',
      'question_mark',
      'search',
      'help',
      'typingPad'
        ];

  for (var i=0; i<vals.length; i++)
  {
    if(binX.charAt(i)=='1')
    {
      document.getElementById(vals[i]).style.display = 'block';
    }
    else if(binX.charAt(i)=='0')
    {
      document.getElementById(vals[i]).style.display = 'none';
    }
    else if(binX.charAt(i)=='t')
    {
      _toggle(vals[i]);
    } else
    {
      //DO nothing, for example 0xxx would mean to turn picture OFF and leave others unchanged
    }
  }
}
</script>


<div id='question_mark' style='display: none; float: left'>

<a href="#" onMouseDown="change_visibility('0t1ttt');">
<font color="#000000">(?)</font></a>
</div>



<div id="help" style="display: none; float: left;">
<font color="#000000">
Press TAB to see commands in the search -field. Examples below. 

<ul>
<li>jobs: java</li>
<li>refactor: python</li>
<li>so: ask here!</li>
</ul>


</font>
</div>


<div id="image" style="float: left">

<a href="#" onmousedown="change_visibility('001101');">



<script type="text/javascript">

function get_quote() 
{
  var randomnumber=Math.floor(Math.random()*10801)
    var quotes=['USACO trainings|ace.delos.com|NA|http://ace.delos.com/usacogate',
        'Project Euler Resources -question|SO|Search more with "<i>puzzle: euler</i>".|http://stackoverflow.com/questions/3137178/project-euler-resources',
        'Patent news.|news.swpat.org|NA|http://news.swpat.org/',
        'Patent Absurdity -video|FSF|NA|http://patentabsurdity.com/',
        'International Obfuscated C Code Contest here|ioccc.org|NA|http://ioccc.org/',
        'NA|NA|Need a job? Search like "<i>jobs: java</i>".|NA',
        'NA|NA|Using OBSD? Search with "<i>obsd: topic</i>" or "<i>bsd: topic</i>".|NA',
        'NA|NA|Hacked your planet?! Search with "</i>security: topic</i>".|NA',
        'NA|NA|Banging the Unsolved? Try unsolved -search term with MH <a target="_blank" href="http://mathharbour.com/">here</a>.|NA'
          ];

  return(quotes[(randomnumber) % quotes.length]);
}

</script>


<script type="text/javascript">

function get_comic()
{
  var comics =['http://3.bp.blogspot.com/_Qc1Z3hIcYO4/TA6s-xvBxoI/AAAAAAAABks/0RP4YmvVoxs/s1600/nailsMyHead.jpg'];

  var randomnumber=Math.abs(Math.ceil(Math.random()*comics.length)-1);
  return comics[randomnumber];
}

</script>


<SCRIPT>
document.write('<div align="center" style="vertical-align: middle"><img height="99%" width="98%" src="' +
    get_comic() +
    '"></div>');
</SCRIPT>

</a>
</div>


<p style="display:none">
<textarea rows=10 id="data">bsd: 
dotfiles: 
gcode: 
github: 
jobs: 
obsd: 
ohloh: 
refactor: 
security: 
vim: 
</textarea>
</p>


<div id="search" style="float: left; display: none; height: 100%; width: 100%">

<b>Search CLI</b>

<form onsubmit="return handleSubmit()" method="get" name="moduleForm" id="moduleForm">

<div id="typingPad">
<input type="text" name="allQuery" id="allQuery" width="100%" />
</div>

<br>


<p>
<div id="igoogle">

<a target="_top" href="http://www.google.com/ig/directory?type=gadgets&url=hosting.gmodules.com/ig/gadgets/file/113238372519026650011/math_harbour.xml">iGoogle</a>

</div> </p>

<div name="sites" style="text-align:right">

<div style="text-align:right" name="mix">
@ 
<a href="http://art.mathharbour.com/" target="_top">Art</a>
<a href="http://puzzle.mathharbour.com/" target="_top">Puzzles</a>
<a href="http://security.mathharbour.com/" target="_top">Security</a>
</div>

<div style="text-align:right" name="finance">
(F)
<a href="http://parrot.mathharbour.com/" target="_top">Junior Parrot</a>
<a href="http://finance.mathharbour.com" target="_top">Finance</a> 
<a href="http://clifinance.mathharbour.com" target="_top">Cli</a>
</div>

<div style="text-align:right" name="math">
(M)
<a href="http://www.mathharbour.com" target="_top">Math Harbour</a>
<a href="http://past.mathharbour.com/" target="_top">Past</a>
</div>

<div style="text-align:right" name="research">
(R) 
<a href="http://research.mathharbour.com/" target="_top">Math</a>
<a href="http://finance.research.mathharbour.com" target="_Top">Finance</a>
<a href="http://cli.research.mathharbour.com" target="_Top">CLI</a>
</div>

<br>

<div style="text-align:right">
<a target="_top" href="http://www.google.com/ig/directory?type=gadgets&url=hosting.gmodules.com/ig/gadgets/file/113238372519026650011/math_harbour.xml">iGoogle</a>
<a href="http://www.mathharbour.com/search" target="_top">More.</a>
</div>


</div>
</p>



<a href="#" onmousedown="change_visibility('100000');">Back</a>
</div>


<div id='quote' style='display: none; float: left;'>


<script>

var quote = get_quote().split("|");

if (quote[3]!="NA")
{
  var message = "<i>"+quote[0].replace(/NA/g, '')+"</i> <a target=\"_blank\" href=\""+quote[3]+"\">"+quote[1].replace(/NA/g, '')+"</a> "+quote[2].replace(/NA/g, '');
} else
{
  var message = "<i>"+quote[0].replace(/NA/g, '')+"</i> "+quote[1].replace(/NA/g, '')+" "+quote[2].replace(/NA/g, '');
}
document.write(message); 
</script>

</div>


<script>
  // takes a text field and an array of strings for autocompletion
  function autocomplete(input, data) {
    if (input.value.length == input.selectionStart && input.value.length == input.selectionEnd) {
      var candidates = []


      // filter data to find only strings that start with existing value
      // then, check TAB-TAB: return next choice mod(len-1) if exact match
      for (var i=0; i < data.length; i++) {

        if (data[i].indexOf(input.value) == 0 && data[i].length > input.value.length)
        {
          candidates.push(data[i])
        } 
        else if (data[i].indexOf(input.value) == 0)
        {
          input.value = data[(i+1)%(data.length)];
          return true;
        }
      }
      
      if (candidates.length > 0) {
        // some candidates for autocompletion are found
        if (candidates.length == 1) input.value = candidates[0]
        else input.value = longestInCommon(candidates, input.value.length)
        return true
      }
    }
    return false
  }
  
  // finds the longest common substring in the given data set.
  // takes an array of strings and a starting index
  function longestInCommon(candidates, index) {
    var i, ch, memo
    do {
      memo = null
      for (i=0; i < candidates.length; i++) {
        ch = candidates[i].charAt(index)
        if (!ch) break
        if (!memo) memo = ch
        else if (ch != memo) break
      }
    } while (i == candidates.length && ++index)
    
    return candidates[0].slice(0, index)
  }
  
  function getData() {
    return document.getElementById('data').value.split("\n")
  }
  
  var input = document.getElementById('allQuery')
  
  // catch TAB keypresses in text input
  input.addEventListener('keydown', function(e) 
  {
    if (e.keyCode == 9 && autocomplete(this, getData())) e.preventDefault()
  }, false)

  input.focus()
</script>






<script type="text/javascript">

function handleSubmit()
{
  var form = _gel("moduleForm"),
      elm = _gel("allQuery");

  if (elm != "")
  {
    var query = _trim(elm.value);
    var checkCommand = _trim(query.split(":")[0].toLowerCase());

    var searchUrl ="https://sites.google.com/site/cliharbourresearch/system/app/pages/customSearch?scope=cse-goog_2077800434&q=";


    var urls = ['define|https://sites.google.com/site/cliharbourresearch/system/app/pages/customSearch?scope=cse-goog_1077465085&q=',
        'bsd|https://sites.google.com/site/cliharbour/system/app/pages/customSearch?scope=cse-goog_2024053178&q=',
        'obsd|https://sites.google.com/site/cliharbour/system/app/pages/customSearch?scope=cse-goog_1182548146&q=',
        'jobs|https://sites.google.com/site/cliharbourresearch/system/app/pages/customSearch?scope=cse-goog_1977362030&q=',
        'security|https://sites.google.com/site/cliharbourresearch/system/app/pages/customSearch?scope=cse-goog_2077800436&q=',
        'so|http://stackoverflow.com/search?q=',
        'vim|http://vim.wikia.com/wiki/Special:Search?search=',
        'ohloh|http://www.ohloh.net/p?query=',
        'github|http://github.com/search?q=',
        'gcode|http://www.google.com/codesearch?q=',
        'refactor|http://www.google.com/search?q=site%3Ahttp%3A%2F%2Frefactormycode.com+',
        'puzzle|https://sites.google.com/site/mathharbourclassroom/system/app/pages/customSearch?scope=cse-goog_1087142469&q='
          ];


    for ( var i=0;i<urls.length; i++)
    {
      if (checkCommand == urls[i].split("|")[0])
      {
        searchUrl = urls[i].split("|")[1];
        var re = new RegExp("^"+urls[i].split("|")[0], "gi");
        query = _trim(query.replace(re, "").split(":").join(""));
        i=10801;
      }
    }

    var props = ['quote|01xx0x00', 'help|01101000'];

    for (var i = 0; i < props.length; i++)
    {

      if (checkCommand == props[i].split("|")[0])
      {
        change_visibility(props[i].split("|")[1]);
        query="";
        setTimeout(continueExecution(props[i].split("|")[0]), 3000);
      }
    }

    if (query != "" && searchUrl != "") 
    {
      searchUrl += escape(query);
      window.open(searchUrl, form.target || "_top");
    }
  }

  return false;
}


// Tracks button click as an event
ga.reportEvent("All-in-One Gadget", "Search", "Button", 0);
</script>


</body>
</html>

]]>
</Content></Module>

