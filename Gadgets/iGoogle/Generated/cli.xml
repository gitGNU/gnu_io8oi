<?xml version="1.0" encoding="UTF-8"?>
<Module>
<ModulePrefs title="CLI Search" 
height="25"
description=
"
The search is small but powerful. 
Easy to use in Gmail, Blogger and phones. 
Press TAB to see commands. 
Command line, Linux, Unix, Powershell, Vim, refactor, Github, Google Code. 
Advanced commands are define, bsd, obsd, security, jobs, vim and refactor, search like 'vim: grep' or 'refactor: java'. 
For the small, try 'Y (search)' -gadget.
Provided by Math Harbour, MathHarbour.com.
"
author ="MathHarbour.com"
author_email ="mathharbour1@gmail.com"
author_aboutme ="Harbour -project specializes in search."
author_email ="mathharbour1@gmail.com" 
screenshot="" 
title_url="http://www.mathharbour.com/"
thumbnail=""
category="technology" category2="communication"
scrolling="false">
</ModulePrefs>
<Content type="html">
<![CDATA[
<html>
<body>



<script>
// Track this gadget using Google Analytics.
// Creates a tracking object and uses reportPageview method to call gadget view
var ga = new _IG_GA("FILL_IT");  
ga.reportPageview('/view/allinoneGadget');
</script>




<form onsubmit="return handleSubmit()" method="get" name="moduleForm" id="moduleForm">
<div id="typingPad">
<input type="text" name="allQuery" id="allQuery" size="15" />
</div>

<script type="text/javascript">


function _toggle(el) 
{
	el = document.getElementById(el);
	if (el !== null) {
		if (el.style.display.length === 0 || el.style.display === "block") {
			el.style.display = "none";
		} else if (el.style.display === "none") {
			el.style.display = "block";
		}
	}
}



function continueExecution()
{
	//finish doing things after the pause
	_toggle('help');
	_toggle('typingPad');
	document.moduleForm.allQuery.value='';
}

</script>

</form>




<script type="text/javascript">


function handleSubmit()
{
	var form = _gel("moduleForm"),
	    elm = _gel("allQuery");
	if (elm != "") 
	{
		var query = _trim(elm.value);
		var searchUrl = "https://sites.google.com/site/cliharbourresearch/system/app/pages/customSearch?scope=cse-goog_2077800434&q=";
		var checkCommand = _trim(query).split(":")[0].toLowerCase();

		var urls = ['define|https://sites.google.com/site/cliharbourresearch/system/app/pages/customSearch?scope=cse-goog_1077465085&q=',
		    'bsd|https://sites.google.com/site/cliharbour/system/app/pages/customSearch?scope=cse-goog_2024053178&q=',
		    'obsd|https://sites.google.com/site/cliharbour/system/app/pages/customSearch?scope=cse-goog_1182548146&q=',
		    'jobs|https://sites.google.com/site/cliharbourresearch/system/app/pages/customSearch?scope=cse-goog_1977362030&q=',
		    'security|https://sites.google.com/site/cliharbourresearch/system/app/pages/customSearch?scope=cse-goog_2077800436&q=',
		    'ask|http://stackoverflow.com/search?q=',
		    'vim|http://vim.wikia.com/wiki/Special:Search?search=',
		    'ohloh|http://www.ohloh.net/p?query=',
		    'github|http://github.com/search?q=',
		    'gcode|http://www.google.com/codesearch?q=',
		    'refactor|http://www.google.com/search?q=site%3Ahttp%3A%2F%2Frefactormycode.com+',
		    'puzzle|https://sites.google.com/site/mathharbourclassroom/system/app/pages/customSearch?scope=cse-goog_1087142469&q='];

		for ( var i=0;i<urls.length; i++)
		{
			if (checkCommand == urls[i].split("|")[0])
			{
				searchUrl = urls[i].split("|")[1];
				var re = new RegExp("^"+urls[i].split("|")[0], "gi");
				query = _trim(query.replace(re, "").split(":").join(""));
				i=10801;
			}
		}

		if(checkCommand == "help") 
		{
			_toggle('typingPad');
			_toggle('help');
			query="";
			setTimeout(continueExecution, 3000)
		}

		if (query != "" && searchUrl != "") 
		{
			searchUrl += escape(query);
			window.open(searchUrl, form.target || "_top");
		}
	}
	return false;
}


// Tracks button click as an event
ga.reportEvent("All-in-One Gadget", "Search", "Button", 0);

</script>



</html>
</body>


]]>
</Content></Module>
